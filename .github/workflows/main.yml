name: Manual Workflow

env:
  SM_VERSION: 'v2.0-oneclick'
on:
  workflow_dispatch:
    inputs:
      sm_version:
        description: 'Version'
        required: true
        default: 'v2.0-oneclick'
        type: choice
        options:
        - v2.0-oneclick
        - v2.0-oneclick-rc
        - prod
  push:
    branches:
      - main  # Replace with the branch name you want to trigger the workflow on

jobs:
  print-option:
    runs-on: ubuntu-latest

    steps:
    - name: Check if Manual Run
      run: |
        if [ -n "${{ github.event.inputs.sm_version }}" ]; then
          echo "This is a manual run."
          echo "SM_VERSION=${{ github.event.inputs.sm_version }}" >> $GITHUB_ENV
        fi

    - name: Print Selected Option
      run: |
        echo "You selected: ${SM_VERSION}"
